---
title: ""
emoji: "ğŸ«"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics:
  - "rails"
  - "ruby"
published: false
---

Rails ã® controller ã¯ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã™ã¹ã¦ã® helper ã‚’èª­ã¿è¾¼ã¿ã¾ã™ã€‚
ã“ã‚Œã¯ã€ `config.action_controller.include_all_helpers` ã®è¨­å®šå€¤ã«ã‚ˆã‚‹ã‚‚ã®ã§ã™ã€‚

https://railsguides.jp/configuring.html#config-action-controller-include-all-helpers

> ã™ã¹ã¦ã®ãƒ“ãƒ¥ãƒ¼ãƒ˜ãƒ«ãƒ‘ãƒ¼ã‚’ã‚ã‚‰ã‚†ã‚‹å ´æ‰€ã§ä½¿ãˆã‚‹ã‚ˆã†ã«ã™ã‚‹ã‹ã€å¯¾å¿œã™ã‚‹ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã®ã‚¹ã‚³ãƒ¼ãƒ—å†…ã«é™å®šã™ã‚‹ã‹ã‚’è¨­å®šã—ã¾ã™ã€‚

ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã“ã®å€¤ã¯ `true` ã§ã™ã€‚

```ruby
config.action_controller.include_all_helpers = false
```

---

åˆ¥ã® helpepr ã§ã€åŒåã®ãƒ¡ã‚½ãƒƒãƒ‰å®šç¾©ãŒå­˜åœ¨ã™ã‚‹ã€‚

```ruby:app/helpers/users_helper.rb
module UsersHelper
  def display_name(user)
    user.name
  end
end
```

```ruby:app/helpers/posts_helper.rb
module PostsHelper
  def display_name(post)
    "#{post.title} #{l(post.created_at)}"
  end
end
```

`include_all_helpers` ãŒ `false` ã ã¨ã€ãã‚Œãã‚Œ
`UsersController` ã®ã‚³ãƒ³ãƒ†ã‚¯ã‚¹ãƒˆã§ã¯ `UsersHelper` ãŒã€ `PostsController` ã®ã‚³ãƒ³ãƒ†ã‚¯ã‚¹ãƒˆã§ã¯ `PostsHelper` ãŒé©ç”¨ã•ã‚Œã¾ã™ã€‚

---

### é©ç”¨ã•ã‚Œã‚‹ãƒ˜ãƒ«ãƒ‘ã¯ã©ã†ã‚„ã£ã¦æ±ºå®šã•ã‚Œã‚‹ã®ã‹?

```
app/
â”œâ”€â”€ controllers
â”‚Â Â  â”œâ”€â”€ admin
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ application_controller.rb
â”‚Â Â  â”‚Â Â  â””â”€â”€ users_controller.rb
â”‚Â Â  â”œâ”€â”€ application_controller.rb
â”‚Â Â  â”œâ”€â”€ posts_controller.rb
â”‚Â Â  â””â”€â”€ users_controller.rb
â””â”€â”€ helpers
    â”œâ”€â”€ admin
    â”‚Â Â  â”œâ”€â”€ application_helper.rb
    â”‚Â Â  â””â”€â”€ users_helper.rb
    â”œâ”€â”€ application_helper.rb
    â”œâ”€â”€ posts_helper.rb
    â””â”€â”€ users_helper.rb
```

```ruby:app/controllers/application_controller.rb
class ApplicationController < ActionController::Base
end
```
```ruby:app/controllers/users_controller.rb
class UsersController < ApplicationController
end
```
```ruby:app/controllers/posts_controller.rb
class PostsController < ApplicationController
end
```
```ruby:app/controllers/admin/application_controller.rb
class Admin::ApplicationController < ApplicationController
end
```
```ruby:app/controllers/admin/users_controller.rb
class Admin::UsersController < Admin::ApplicationController
end
```

ä¾‹ãˆã°ä¸Šè¨˜ã®ã‚ˆã†ãªç¶™æ‰¿é–¢ä¿‚ãŒã‚ã£ãŸã¨ãã€ `UsersController` ã®ã‚³ãƒ³ãƒ†ã‚¯ã‚¹ãƒˆã§é©ç”¨ã•ã‚Œã‚‹ helper ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

1. `UsersHelper`
2. `ApplicationHelper`

ã“ã‚Œã¯ã€ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã§ã®ç¶™æ‰¿é–¢ä¿‚ã«ä¾å­˜ã—ã¦ã„ã¾ã™ã€‚

ã‚‚ã†ä¸€ä¾‹å‡ºã—ã¾ã™ã¨ã€ `Admin::UsersController` ã®ã‚³ãƒ³ãƒ†ã‚¯ã‚¹ãƒˆã§ã¯é©ç”¨ã•ã‚Œã‚‹ helper ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

1. `Admin::UsersHelper`
2. `Admin::ApplicationHelper`
3. `ApplicationHelper`

ã“ã‚Œã‚‚ã€ç¶™æ‰¿é–¢ä¿‚ã¨ç…§ã‚‰ã—åˆã‚ã›ã‚‹ã¨ã‚ã‹ã‚Šã¾ã™ã­ã€‚

